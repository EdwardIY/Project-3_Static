(()=>{"use strict";function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var n=document.getElementById("loader"),a=document.querySelector(".btn"),i=document.querySelector(".myLocation"),o=document.querySelector(".input"),r=document.getElementById("week"),c=document.getElementById("time"),l=document.getElementById("fullDate"),u=["January","February","March","April","May","June","July","August","September","October","November","December"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],p={location:document.getElementById("location"),des:document.getElementById("descriptionInput"),temp:document.getElementById("tempInput"),feels:document.getElementById("feelsInput"),hum:document.getElementById("humidityInput"),windS:document.getElementById("wSpeedInput")},d=[],m=document.getElementById("img");function g(){n.style.opacity="1",n.style.zIndex="2"}function y(){n.style.opacity="0",n.style.zIndex="0"}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=e,n=t.toLocaleTimeString();c.textContent=n.split(":")[0]+":"+n.split(":")[1]+n.slice(-3),l.textContent=s[t.getDay()]+", "+t.getDate()+" "+u[t.getMonth()],0==d.length&&d.push(n.slice(-2))}i.addEventListener("click",(function(){g(),navigator.geolocation.getCurrentPosition((function(e){v("myP",e.coords.latitude,e.coords.longitude)}))})),a.addEventListener("click",(function(){g(),v("searched",o.value)})),document.addEventListener("keydown",(function(e){"Enter"==e.key&&(g(),v("searched",o.value))}));var h,b=setInterval(f,1e3);function v(t,n,a){d=[],r.style.opacity="1",r.innerHTML="";var i="",c="";"myP"==t&&(i="https://api.openweathermap.org/data/2.5/weather?lat=".concat(n,"&lon=").concat(a,"&appid=a0eb8cd91bacf228a84f3e6370b0b4a3&units=imperial"),c="https://api.openweathermap.org/data/2.5/forecast?lat=".concat(n,"&lon=").concat(a,"&appid=a0eb8cd91bacf228a84f3e6370b0b4a3&units=imperial")),"searched"==t&&(i="https://api.openweathermap.org/data/2.5/weather?q=".concat(n,"&appid=a0eb8cd91bacf228a84f3e6370b0b4a3&units=imperial"),c="https://api.openweathermap.org/data/2.5/forecast?q=".concat(n,"&appid=a0eb8cd91bacf228a84f3e6370b0b4a3&units=imperial")),fetch(i).then((function(e){return e.json()})).then((function(t){if(200!=t.cod)throw Error("Location not found..");p.location.textContent=t.name,p.des.textContent=e(t.weather).pop().description[0].toUpperCase()+e(t.weather).pop().description.slice(1),p.temp.textContent=t.main.temp+" °F",p.feels.textContent=t.main.feels_like+" °F",p.hum.textContent=t.main.humidity+"%",p.windS.textContent=t.wind.speed+"mph",d.push(e(t.weather).pop().description)})).then((function(){fetch(c).then((function(e){return e.json()})).then((function(t){for(var n=t.list.filter((function(e){var t=new Date(1e3*e.dt).toLocaleString().split(", ")[1];if("5:00:00 PM"==t||"11:00:00 AM"==t)return!0})),a=1,i=[],o=0;o<n.length;o+=2)i.push([e(n).splice(o,2)]);i.forEach((function(e,t){var n=new Date;0==t?(console.log(e),r.innerHTML+='\n                    <div class="currentDay">\n                        <img src="http://openweathermap.org/img/wn/'.concat(e[0][0].weather[0].icon,'@2x.png" alt="">\n                        <div class="info">\n                            <span>').concat(s[n.getDay()+a].slice(0,3),"</span>\n                            <span><b>Mid-Day</b> - ").concat(e[0][0].main.temp," °F</span>\n                            <span><b>Afternoon</b> - ").concat(e[0][1].main.temp," °F</span>\n                        </div>\n                    </div>\n\n                    ")):r.innerHTML+='\n                    <div class="day">\n                        <span>'.concat(s[n.getDay()+a].slice(0,3),'</span>\n                        <img src="http://openweathermap.org/img/wn/').concat(e[0][0].weather[0].icon,'@2x.png" height:50px; width:50px; alt="">\n                        <span><b>Mid-Day</b> - ').concat(e[0][0].main.temp,"°F</span>\n                        <span><b>Afternoon</b> - ").concat(e[0][1].main.temp,"°F</span>\n                    </div>\n                    "),a++})),clearInterval(b),clearInterval(h),w(t),h=setInterval((function(){w(t)}),6e4)}))})).catch((function(e){p.location.textContent=". . .",p.des.textContent=". . .",p.temp.textContent=". . .",p.feels.textContent=". . .",p.windS.textContent=". . .",p.hum.textContent=". . .",r.style.opacity="0",o.value=e.message,o.style.opacity=".5",setTimeout((function(){o.value="",o.style.opacity="initial"}),1500),y()}))}function w(e){fetch("https://api.ipgeolocation.io/timezone?apiKey=957a47b3088a40a8a20879acaf412420&lat=".concat(e.city.coord.lat,"&long=").concat(e.city.coord.lon)).then((function(e){return e.json()})).then((function(e){f(new Date(e.date_time_ymd.slice(0,-5)));var t=(new Date).toLocaleTimeString().slice(-2);1==d.length&&d.unshift(t),function(e,t){if(screen.width<=425)return void y();t=t.split(":");var n,a=["url(./Public/images/Night/clear.jpg)","url(./Public/images/Night/cloud.jpg)","url(./Public/images/Night/rain.jpg)","url(./Public/images/Night/snow.jpg)","url(./Public/images/Day/clear.jpg)","url(./Public/images/Day/cloud.jpg)","url(./Public/images/Day/rain.jpg)","url(./Public/images/Day/snow.jpg)","url(./Public/images/Afternoon/clear.jpg)","url(./Public/images/Afternoon/cloud.jpg)","url(./Public/images/Afternoon/rain.jpg)","url(./Public/images/Afternoon/snow.jpg)"],i=t[2].slice(-2);"AM"==i&&12==+t[0]||"AM"==i&&+t[0]<6?n="Night":"PM"==i&&12==+t[0]||"PM"==i&&+t[0]<=3||"AM"==i&&+t[0]>=6?n="Day":"PM"==i&&+t[0]>3&&"PM"==i&&+t[0]<=6?n="Afternoon":"PM"==i&&+t[0]>6&&(n="Night");m.style.backgroundImage=a.filter((function(t){var a=t.slice(0,-5).split("/").reverse()[0],i=t.slice(0,-5).split("/").reverse()[1];if(e[1].includes(a)&&i==n)return!0})),0==m.style.backgroundImage.length&&(m.style.backgroundImage="url(./Public/images/Atmosphere/fog.jpg)");y()}(d,new Date(e.date_time_ymd.slice(0,-5)).toLocaleTimeString())}))}})();